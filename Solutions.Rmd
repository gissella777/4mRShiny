---
title: "Code Solutions"
runtime: shiny
output: html_document
---

<style>
@import url('https://fonts.googleapis.com/css?family=Scope+One&display=swap');
@import url('https://fonts.googleapis.com/css?family=Scope+One|Unica+One&display=swap&subset=latin-ext');
h1 {font-family: 'Unica One', cursive;
      font-size: 30px;}
h2 {font-family: 'Unica One', cursive;
      font-size: 25px;}
h3 {font-family: 'Unica One', cursive;
      font-size: 20px;}      
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Contents {#home}

- [User-Interface](#ui_sol)
- [Static Widgets](#widgets1)
- Reactivity
- Dynamic UI
- Dynamic Widgets
- Data Visualization
- Use of HTML Tags to customise App
- Flexdashboard
- Use of Plotly  


# User-Interface {#ui_sol}

On slide x, there are 4 UI creation problems. The following sections contains solutions for this section. 

[Home](#home)


## Solutions to Practice Problems

### First Problem

In the first problem, you need to create an interface containing a TitlePanel and 2 columns below as illustrated: 

```{r app2, echo=FALSE}
shinyAppDir("C:/Users/GissellaMontenegro/Documents/app_demo1",
  options = list(
    width = "100%", height = 550
  )
)
```


We have not learned how to use HTML to produce the styling elements above, so insert some text in the titlePanel and columns to ensure you've created the UI. Ignoring the styling elements (colors, alignment, etc.), the following R shiny code produces the UI in problem 1:
```{r}
ui <- fluidPage(
    titlePanel(column(width=12, div(style="height:50px;", 
                      h1("New Application - Title Panel")))
                ), 
    fluidRow(column(width=6, h2("Column 1")), 
             column(width=6, h2("Column 2"))
            )
    )

```


The following code produces the UI above with the styling elements included: 
```{r}
ui <- fluidPage(
    titlePanel(column(width=12, div(style="height:50px;", 
                      h1("New Application - Title Panel")))
                ), 
    fluidRow(column(width=6, div(style = "height:225px; border-style:dashed; 
                                          border-color:lightblue; text-align:center;", 
                    br(),
                    h2("Column 1"), 
                    p("6 units wide"))), 
             column(width=6, div(style = "height:225px; border-style:dashed; 
                                          border-color:lightblue; text-align:center;", 
                    br(),
                    h2("Column 2"),
                    p("6 units wide")))
            )
    )
```
[Home](#home)


### Second Problem

In the second problem, you need to create an interface with a titlePanel, 2 columns below, and a full bottom panel spanning the entire width of the page:
```{r app2b, echo=FALSE}
shinyAppDir("C:/Users/GissellaMontenegro/Documents/app_demo2",
  options = list(
    width = "100%", height = 550
  )
)
```

Without the styling elements, the UI code for problem number two is: 
```{r}
ui <- fluidPage(
    headerPanel("New Application - Title Panel"),
    fluidRow(column(width=6, "Column 1"), 
             column(width=6, "Column 2")),
    tags$br(),
    tags$br(),
    fluidRow("Goodbye! this is the final panel at the bottom!")
    )
```

With styling elements, the UI code that produces the interface above is: 
```{r}
ui <- fluidPage(
    titlePanel(column(width=12, div(style="height:50px;",
                     h1("New Application - Title Panel")))
               ),
    fluidRow(column(width=6, div(style = "height:200px; border-style:dashed; 
                                          border-color:lightblue; text-align:center;",
                    br(),
                    h2("Column 1"),
                    p("6 units wide"))),
             column(width=6, div(style = "height:200px; border-style:dashed; 
                                          border-color:lightblue; text-align:center;",
                    br(),
                    h2("Column 2"),
                    p("6 units wide")))),
    tags$br(),
    fluidRow(div(style = "height: 150px; border-style:dashed; margin-left:15px; 
                          margin-right:15px; text-align:center;", 
            h2("Goodbye! this is the final panel at the bottom!")))
)

```
[Home](#home)


### Third Problem

In the third problem, you need to create an interface with a titlePanel and a main panel containing 3 tabs spanning the entire width of the page. Each tab will be a separate page -
```{r app3, echo=FALSE}
shinyAppDir("C:/Users/GissellaMontenegro/Documents/layout_demo",
  options = list(
    width = "100%", height = 550
  )
)
```

Without styling elements, the above interface can be coded as follows: 
```{r}
ui <- fluidPage(
    headerPanel(h1("New Application - Title Panel")
                ),
    tabsetPanel(
        tabPanel(h4("Tab 1"), 
                 br(), 
                 "Contents for tab 1"),
        tabPanel(h4("Tab 2"), 
                 br(), 
                 "Contents for tab 2"),
        tabPanel(h4("Tab 3"), 
                 br(), 
                 "Contents for tab 3")
    )
)
```


With styling elements, the UI code that produces the interface above is: 

```{r}
ui <- fluidPage(
    headerPanel(div(style="height:50px;",h1("New Application - Title Panel"))
                ),
    tabsetPanel(
        tabPanel(h4("Tab 1"), 
                 div(style="height:300px; text-align:left; font-size:16px; padding-left:15px; 
                            border-style:dotted; border-width:2px; border-color:lightgrey;", 
                     br(), "Contents for tab 1")),
        tabPanel(h4("Tab 2"), 
                div(style="height:300px; text-align:left; font-size:16px; padding-left:15px; 
                           border-style:dotted; border-width:2px; border-color:lightgrey;", 
                    br(), "Contents for tab 2")),
        tabPanel(h4("Tab 3"), 
                div(style="height:300px; text-align:left; font-size:16px; padding-left:15px;
                           border-style:dotted; border-width:2px; border-color:lightgrey;", 
                    br(), "Contents for tab 3"))
    )
)
```
[Home](#home)


### Fourth Problem

In the fourth problem, you need to create an interface with a titlePanel and a main panel containing 3 tabs spanning the entire width of the page. Each tab will be a separate page -
```{r app4, echo=FALSE}
shinyAppDir("C:/Users/GissellaMontenegro/Documents/app_demo4",
  options = list(
    width = "100%", height = 550
  )
)
```

Without styling elements, the above interface can be coded as follows: 
```{r}
ui <- fluidPage(
    headerPanel("Application Layout 4"),
    sidebarPanel(width=3,"SideBar", br(), br(),"sidestuff"),
    mainPanel(tabsetPanel(
        tabPanel("tab1", br(),"contents for tab 1", br(),"line 2"),
        tabPanel("tab2", br(),"contents for tab 2"),
        tabPanel("tab3", br(),"contents for tab 3")
        )
    )
)
```

With styling elements, the UI code that produces the interface above is: 
```{r}
ui <- fluidPage(
    headerPanel(div(style="height:50px;",h1("New Application - Title Panel"))
                ),
    tabsetPanel(
        tabPanel(h4("Tab 1"), 
                 div(style="height:300px; text-align:left; font-size:16px; padding-left:15px; 
                            border-style:dotted; border-width:2px; border-color:lightgrey;", 
                     br(), "Contents for tab 1")),
        tabPanel(h4("Tab 2"), 
                div(style="height:300px; text-align:left; font-size:16px; padding-left:15px; 
                           border-style:dotted; border-width:2px; border-color:lightgrey;", 
                    br(), "Contents for tab 2")),
        tabPanel(h4("Tab 3"), 
                div(style="height:300px; text-align:left; font-size:16px; padding-left:15px;
                           border-style:dotted; border-width:2px; border-color:lightgrey;", 
                    br(), "Contents for tab 3"))
    )
)
```
[Home](#home)


# Static Widgets {#widgets1}

## Inputs

## Outputs


You can embed Shiny inputs and outputs in your document. Outputs are automatically updated whenever inputs change.  This demonstrates how a standard R plot can be made interactive by wrapping it in the Shiny `renderPlot` function. The `selectInput` and `sliderInput` functions create the input widgets used to drive the plot.

```{r eruptions, echo=TRUE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20),
  
  sliderInput("bw_adjust", label = "Bandwidth adjustment:",
              min = 0.2, max = 2, value = 1, step = 0.2)
)

renderPlot({
  hist(faithful$eruptions, probability = TRUE, breaks = as.numeric(input$n_breaks),
       xlab = "Duration (minutes)", main = "Geyser eruption duration")
  
  dens <- density(faithful$eruptions, adjust = input$bw_adjust)
  lines(dens, col = "blue")
})
```



## Embedded Application

It's also possible to embed an entire Shiny application within an R Markdown document using the `shinyAppDir` function. This example embeds a Shiny application located in another directory:

```{r tabsets, echo=FALSE}
shinyAppDir(
  system.file("examples/06_tabsets", package = "shiny"),
  options = list(
    width = "100%", height = 550
  )
)
```

Note the use of the `height` parameter to determine how much vertical space the embedded application should occupy.

You can also use the `shinyApp` function to define an application inline rather then in an external directory.

In all of R code chunks above the `echo = FALSE` attribute is used. This is to prevent the R code within the chunk from rendering in the document alongside the Shiny components.




Video in report
========================================================

This is just an example of how to include youtube videos on an html report.

Basically you use **knitr** through [Rstudio](http://www.rstudio.com/). Then you add the video using _iframe_ html tag directly:

```{r, eval=FALSE}
<iframe width="560" height="315" src="https://speakerdeck.com/maltzj/code-reviewing-like-a-champion" frameborder="0" allowfullscreen></iframe>
```

And this is the result:

<iframe width="560" height="315" src="http://www.youtube.com/embed/9bZkp7q19f0?rel=0" frameborder="0" allowfullscreen></iframe>


http in R presentation
========================================================
author: An animal
date: A day
autosize: true
========================================================

<iframe width="560" height="315" src="http://rpsychologist.com/d3/NHST/" scrolling= "yes"></iframe>


Well, _knitr_ is really made to include R code



```{r fig.width=7, fig.height=6}
summary(cars)
plot(cars, col = "blue")
```

and some math.

\[ f_Z(z) = \frac{1}{\sqrt{2 \pi}} \exp \left( - \frac{z^2}{2} \right) \]

More [here](http://yihui.name/knitr/)!
